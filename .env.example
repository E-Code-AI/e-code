# E-Code Platform Environment Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
PORT=5000
APP_URL=http://localhost:5000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
# Production: Use managed database service (Cloud SQL, RDS, etc.)
DATABASE_URL=postgresql://ecode:password@localhost:5432/ecode_dev

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# Strong random strings for production - generate with: openssl rand -hex 32
SESSION_SECRET=your-session-secret-change-in-production
JWT_SECRET=your-jwt-secret-change-in-production

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis for caching, sessions, and real-time features
# Production: Use managed Redis service (Memorystore, ElastiCache, etc.)
REDIS_URL=redis://localhost:6379

# =============================================================================
# CODE EXECUTION SANDBOX
# =============================================================================
# API key for authenticating executor service requests
EXECUTOR_API_KEY=your-executor-api-key-change-in-production

# Timeout for code execution in seconds (tune based on use case)
SANDBOX_TIMEOUT_SEC=30

# Docker daemon socket (usually unix:///var/run/docker.sock on Linux)
DOCKER_SOCKET=unix:///var/run/docker.sock

# Maximum concurrent containers (tune based on server resources)
MAX_CONCURRENT_CONTAINERS=10

# =============================================================================
# CLOUD STORAGE
# =============================================================================
# S3-compatible storage for file uploads and project exports
# Production: Use managed storage service (Cloud Storage, S3, etc.)
S3_BUCKET=your-s3-bucket-name
S3_ACCESS_KEY_ID=your-s3-access-key
S3_SECRET_ACCESS_KEY=your-s3-secret-key
S3_REGION=us-east-1
S3_ENDPOINT=https://s3.amazonaws.com

# =============================================================================
# AI INTEGRATION
# =============================================================================
# OpenAI API for code assistance and AI features
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic Claude API for additional AI capabilities
ANTHROPIC_API_KEY=your-anthropic-api-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_COLLABORATION=true
ENABLE_AI=true
ENABLE_DEPLOYMENTS=true
ENABLE_BILLING=false
ENABLE_ANALYTICS=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Email service for notifications (SendGrid, Mailgun, etc.)
SENDGRID_API_KEY=your-sendgrid-api-key
FROM_EMAIL=noreply@yourdomain.com

# GitHub integration for repository imports
GITHUB_CLIENT_ID=your-github-oauth-app-id
GITHUB_CLIENT_SECRET=your-github-oauth-app-secret

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=info

# Optional: Application performance monitoring
SENTRY_DSN=your-sentry-dsn

# Optional: Analytics tracking
GOOGLE_ANALYTICS_ID=UA-your-analytics-id

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================
# Domain configuration
DOMAIN=yourdomain.com
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private.key

# Database connection pool settings (tune for production load)
DB_POOL_MIN=2
DB_POOL_MAX=20

# Rate limiting (requests per minute per IP)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100