# Production Environment Configuration for E-Code Platform
# RECOMMENDED DATABASE: Use Neon PostgreSQL for production
# Get your connection string from: https://neon.tech

NODE_ENV=production
PORT=5000
APP_URL=https://your-domain.com

# Database Configuration (RECOMMENDED: Neon PostgreSQL)
# Example: postgresql://user:password@ep-xyz-pooler.us-east-1.neon.tech:5432/database_name?sslmode=require
DATABASE_URL=postgresql://your-user:your-password@your-host.neon.tech:5432/your-database

# Security Keys (CHANGE THESE IN PRODUCTION!)
SESSION_SECRET=your-very-long-random-session-secret-change-this
JWT_SECRET=your-very-long-random-jwt-secret-change-this
ENCRYPTION_KEY=your-32-character-encryption-key-change-this

# OAuth Providers
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GITHUB_CLIENT_ID=your-github-oauth-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-client-secret

# AI API Keys (Required for AI features)
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
GEMINI_API_KEY=your-gemini-api-key
XAI_API_KEY=your-xai-api-key
PERPLEXITY_API_KEY=your-perplexity-api-key

# Email Service
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com

# Payment Processing
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret
STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key

# Storage (AWS S3 or Google Cloud Storage)
S3_BUCKET=your-s3-bucket-name
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2

# Redis Cache (Optional but recommended for production)
REDIS_URL=redis://user:password@host:6379

# CDN Configuration
CDN_URL=https://cdn.your-domain.com

# Monitoring and Analytics
SENTRY_DSN=your-sentry-dsn
NEWRELIC_LICENSE_KEY=your-newrelic-key

# Security Configuration
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com,https://app.your-domain.com
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# Feature Flags
ENABLE_COLLABORATION=true
ENABLE_AI=true
ENABLE_DEPLOYMENTS=true
ENABLE_BILLING=true
ENABLE_ANALYTICS=true

# External Services
GITHUB_APP_ID=your-github-app-id
GITHUB_APP_PRIVATE_KEY=your-github-app-private-key
DOCKER_REGISTRY_URL=registry.your-domain.com
DOCKER_REGISTRY_USERNAME=your-registry-username
DOCKER_REGISTRY_PASSWORD=your-registry-password

# Deployment Configuration
DEPLOYMENT_REGION=us-west-2
MAX_CONTAINERS=100
CONTAINER_MEMORY_LIMIT=512m
CONTAINER_CPU_LIMIT=0.5

# Logging and Debugging
LOG_LEVEL=info
LOG_FORMAT=json
DEBUG_SQL=false

# Database Architecture Notes:
# 1. Primary Database: Neon PostgreSQL for all relational data (users, projects, billing)
# 2. Key-Value Store: Built-in ReplitDB emulation for simple settings and cache
# 3. Redis: Optional for session storage and caching (recommended for scale)
# 4. Connection pooling is automatically configured for optimal performance
# 5. See DATABASE_ARCHITECTURE_GUIDE.md for detailed guidance